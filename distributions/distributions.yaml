---
sources:
  
  awless:
    list:
      type: github-releases
      url: https://api.github.com/repos/wallix/awless/releases
    fetch:
      url: https://github.com/wallix/awless/releases/download/v{{ .Version }}/awless-{{ .OS }}-{{ .Arch }}.tar.gz
    install:
      type: tgz
      binaries:
        - awless

  binenv:
    map:
      windows: win
    list:
      type: github-releases
      url: https://api.github.com/repos/devops-works/binenv/releases
    fetch:
      url: https://github.com/devops-works/binenv/releases/download/v{{ .Version }}/binenv-{{ .OS }}-{{ .Arch }}
    install:
      type: direct

  cli53:
    list:
      type: github-releases
      url: https://api.github.com/repos/barnybug/cli53/releases
    fetch:
      url: https://github.com/barnybug/cli53/releases/download/{{ .Version }}/cli53-{{ .OS }}-{{ .Arch }}{{ .ExeExtension }}
    install:
      type: direct

  consul:
    list:
      type: github-releases
      url: https://api.github.com/repos/hashicorp/consul/releases
    fetch:
      url: https://releases.hashicorp.com/consul/{{ .Version }}/consul_{{ .Version }}_{{ .OS }}_{{ .Arch }}.zip
    install:
      type: zip
      binaries:
        - consul

  kubectl:
    list:
      type: github-releases
      url: https://api.github.com/repos/kubernetes/kubernetes/releases
    fetch:
      url: https://storage.googleapis.com/kubernetes-release/release/v{{ .Version }}/bin/{{ .OS }}/{{ .Arch }}/kubectl
    install:
      type: direct
  
  hadolint:
    map:
      amd64: x86_64
      darwin: Darwin
      linux: Linux
      windows: Windows
    list:
      type: github-releases
      url: https://api.github.com/repos/hadolint/hadolint/releases
    fetch:
      url: https://github.com/hadolint/hadolint/releases/download/{{ .Version }}/hadolint-{{ .OS }}-{{ .Arch }}
    install:
      type: direct

  helm:
    list:
      type: github-releases
      url: https://api.github.com/repos/helm/helm/releases
    fetch:
      url: https://get.helm.sh/helm-v{{ .Version }}-{{ .OS }}-{{ .Arch }}.tar.gz
    install:
      type: tgz
      binaries:
        - "{{ .OS }}-{{ .Arch }}/helm"

  k9s:
    map:
      amd64: x86_64
      linux: Linux
      darwin: Darwin
    list:
      type: github-releases
      url: https://api.github.com/repos/derailed/k9s/releases
    fetch:
      url: https://github.com/derailed/k9s/releases/download/v{{ .Version }}//k9s_{{ .OS }}_{{ .Arch }}.tar.gz
    install:
      type: tgz
      binaries:
        - k9s

  krew:
    list:
      type: github-releases
      url: https://api.github.com/repos/kubernetes-sigs/krew/releases
    fetch:
      url: https://github.com/kubernetes-sigs/krew/releases/download/v{{ .Version }}/krew.tar.gz
    install:
      type: tgz
      binaries:
        - krew-{{ .OS }}_{{ .Arch }}

  kops:
    list:
      type: github-releases
      url: https://api.github.com/repos/kubernetes/kops/releases
    fetch:
      url: https://github.com/kubernetes/kops/releases/download/v{{ .Version }}/kops-{{ .OS }}-{{ .Arch }}
    install:
      type: direct

  kubectx:
    map:
      amd64: x86_64
    list:
      type: github-releases
      url: https://api.github.com/repos/ahmetb/kubectx/releases
    fetch:
      url: https://github.com/ahmetb/kubectx/releases/download/v{{ .Version }}/kubectx_v{{ .Version }}_{{ .OS }}_{{ .Arch }}.tar.gz
    install:
      type: tgz
      binaries:
        - kubectx

  kubens:
    map:
      amd64: x86_64
    list:
      type: github-releases
      url: https://api.github.com/repos/ahmetb/kubectx/releases
    fetch:
      url: https://github.com/ahmetb/kubectx/releases/download/v{{ .Version }}/kubens_v{{ .Version }}_{{ .OS }}_{{ .Arch }}.tar.gz
    install:
      type: tgz
      binaries:
        - kubens

  # Implement static versions
  # rancher:
  #   list:
  #     type: github-releases
  #     url: https://api.github.com/repos/helm/helm/releases
  #   fetch:
  #     url: https://releases.rancher.com/cli/v{{ .Version }}/rancher-{{ .OS }}-{{ .OS }}-v{{ .Version }}.tar.gz
  #   install:
  #     type: tgz
  #     binaries:
  #       - "{{ .OS }}-{{ .Arch }}/helm"

  terraform:
    list:
      type: github-releases
      url: https://api.github.com/repos/hashicorp/terraform/releases
    fetch:
      url: https://releases.hashicorp.com/terraform/{{ .Version }}/terraform_{{ .Version }}_{{ .OS }}_{{ .Arch }}.zip
    install:
      type: zip
      binaries:
        - terraform

  terragrunt:
    list:
      type: github-releases
      url: https://api.github.com/repos/gruntwork-io/terragrunt/releases
    fetch:
      url: https://github.com/gruntwork-io/terragrunt/releases/download/v{{ .Version }}/terragrunt_{{ .OS }}_{{ .Arch }}{{ .ExeExtension }}
    install:
      type: direct

  vault:
    list:
      type: github-tags
      url: https://api.github.com/repos/hashicorp/vault/tags
    fetch:
      url: https://releases.hashicorp.com/vault/{{ .Version }}/vault_{{ .Version }}_{{ .OS }}_{{ .Arch }}.zip
    install:
      type: zip
      binaries:
        - vault
    # os_map:
    #   - "darwin"
    #   - "freebsd"
    #   - "linux"
    #   - "openbsd"
    #   - "solaris"
    #   - "windows"
    # arch_map:
    #   - "amd64"
    #   - "arm"
    #   - "386"
